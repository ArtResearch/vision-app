<div class="row" style="margin-top: 40px;">
  <bs-col sm="1"></bs-col>
<bs-col sm="10">
<semantic-table id='resources-results'
number-of-displayed-rows=10
query=' 
SELECT * WHERE {
  ?subject <http://www.w3.org/2002/07/owl#sameAs> ?value.
  ?value rdfs:label ?labelvalue.
  ?subject rdfs:label ?subjlabel.
  [[#if matched]]
    ?subject <https://vocab.artresearch.net/custom/confirmed> "true"^^xsd:boolean.
  [[else if notmatched]]
    FILTER NOT EXISTS{?subject <https://vocab.artresearch.net/custom/confirmed> "true"^^xsd:boolean}
  [[/if]]
  [[#if artist]]
    ?value a <https://artresearch.net/resource/fc/artist>.
    ?subject <https://artresearch.net/custom/has_provider> ?provider.
    ?provider rdfs:label ?providerLabel.
  [[else if photo]]
    ?value a <https://artresearch.net/resource/fc/photographer>.
    ?subject <https://artresearch.net/custom/has_provider> ?provider.
    ?provider rdfs:label ?providerLabel.
  [[/if]]
  FILTER NOT EXISTS{BIND(<https://artresearch.net/resource/itatti/source/FotoIndex> as ?provider)}
}LIMIT 1000
'
number-of-displayed-rows=10
no-result-template='<h1 style="margin-top:150px;">There are no pairs in this list</h1>'
column-configuration='[
                              {"variableName":"subject","displayName":"Artresearch", "cellTemplate": "<a href=\"{{subject.value}}\">{{subjlabel.value}}</a>"},
                              {"variableName":"value","displayName":"ULAN", "cellTemplate": "<a href=\"{{value.value}}\">{{labelvalue.value}}</a>"},
                              {"variableName":"providerLabel","displayName":"Provider", "cellTemplate": "{{providerLabel.value}}"},
                              {"variableName":"actions","displayName":"Actions", "cellTemplate": "{{>Actions}}"}
                          ]'
>
<template id="Actions">
  [[#if matched]]
  <mp-ldp-remove-from-container-action action="DELETE" post-action='reload' iri="{{subject.value}}" container="http://www.researchspace.org/resource/system/formContainer">
    <button title='This action will remove the item from your matched artists list. It will be then available under artists matchings for you or another reviewer to match.' class="btn action btn-danger" style="margin-right:8px;"><i style="color: white;" class="fa fa-trash" aria-hidden=true></i> Delete</button>
  </mp-ldp-remove-from-container-action>
  [[/if]]
  [[#if notmatched]]
    <!-- <button>Match Artists?</button> -->
    <mp-overlay-dialog class="matching-modal"
                  title="Match artists">
                    <mp-overlay-dialog-trigger
                      placement="bottom"
                      trigger='["hover","focus"]'
                    >
                      <div id="match-button-text">
                      <span class="fa fa-external-link" style="margin-right: 5px;"></span>  Match artists
                      </div>
                    </mp-overlay-dialog-trigger>
                    <mp-overlay-dialog-content style="background: white">
                      <div>
                        <div id="matchings-vocab">
                          <!-- PHAROS SECTION -->
                            <div class="matchingContainer" >
                              <div class="candidate">
                                <div style="display: flex;">
                                  <!-- <img style="border-radius: 100%; object-fit: fill; height: 100px; width: 100px;"  src="http://commons.wikimedia.org/wiki/Special:FilePath/Michelangelo%20Daniele%20da%20Volterra%20%28dettaglio%29.jpg?width=500" /> -->
                                  <div style="display: flex; flex-direction: column; margin-left: 15px;">
                                    <h1 style="font-size: 32px !important">     
                                      <mp-link url="{{subject.value}}" >{{subjlabel.value}}</mp-link> 
                                      (<mp-link url='{{provider.value}}' >{{providerLabel.value}}</mp-link>)
                                    </h1>
                                  </div>
                                </div>
                              </div>
                              <div class="separatingLine"></div>
                              <div class="candidate">
                                <h2 style="font-size: 22px; margin-bottom: 4vh;">Click on "Same" button to verify suggested matches</h2 style="font-size: 22px;">
                              <semantic-query
                              query='SELECT ?match ?matchId ?currentCandidate WHERE {
                                BIND(<{{value.value}}> as ?match)
                                BIND(<{{subject.value}}> as ?currentCandidate)
                                BIND(REPLACE(str(?match),"http://vocab.getty.edu/ulan/","") as ?matchId).
                              }'
                              template="{{>possibleMatchesTemplate}}"
                              > 
                              <template id="possibleMatchesTemplate">
                           
                               {{#each bindings}}
                                  
                                   <div class="matchingCard">
                                     <div class="matchingCardHeader">
                                       <div class="matchingCardHeaderInfo">
                                         <h2  style="font-size: 24px; font-weight: bold;">
                                           <mp-label iri="{{match.value}}" ></mp-label>
                                           </h2>
                                           <mp-overlay-dialog title="‎‎{{match.value}}" type="lightbox">
                                             <mp-overlay-dialog-trigger>
                                           <small class="clickable">View at Getty</small>
                                             </mp-overlay-dialog-trigger>
                                             <mp-overlay-dialog-content>
                                               <iframe src="https://www.getty.edu/vow/ULANFullDisplay?find=&role=&nation=&subjectid={{matchId.value}}"></iframe>
                                             </mp-overlay-dialog-content>
                                           </mp-overlay-dialog>
                                       </div>
                                       <div class="actions">
                                          <semantic-form
                                            new-subject-template="{{currentCandidate.value}}"
                                            browser-persistance="true"
                                            persistence="ldp"
                                            post-action="reload"
                                            fields='[[ fieldDefinitions
                                                        confirmed="https://vision.artresearch.net/container/fieldDefinitionContainer/Confirmed_Matched_Artists"
                                                    ]]'
                                          >
                                            <semantic-form-hidden-input
                                              for="confirmed"
                                              default-value="{{matchId.value}}"
                                            ></semantic-form-hidden-input>
                        
                                            <button
                                              id="1234"
                                              name="submit"
                                              class="btn btn-default action approve"
                                              title="Click to confirm two Artist instances as the same"
                                            > Same </button>
                                          </semantic-form>
                                       </div>
                                     </div>
                               
                                   </div>
                                 {{/each}}
                              </template>
                              </semantic-query>
                            </div>
                            </div>
                        </div>
                        
                      </div>
                    </mp-overlay-dialog-content>
      </mp-overlay-dialog>
  [[/if]]
</template>
</semantic-table>
</bs-col>
<bs-col sm="1"></bs-col>
</div>

<style>
  .actions{
  gap: 150px;
  }
  .matchingImage {
    height: 18vh !important;
    margin: 0vw !important;
  }
</style>