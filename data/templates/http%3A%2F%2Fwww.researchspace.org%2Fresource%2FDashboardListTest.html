<div style="margin-top: 40px;">
      <!-- <bs-col sm="1"></bs-col> -->

    <semantic-search
            limit="1000"
            relations='{
              "<https://pharos.artresearch.net/fieldDefinition/TypeOfSimilarity>":[
                {
                  "kind": "literal",
                  "queryPattern": "
                      {
                        $subject <https://vision.artresearch.net/custom/same_artworks>  ?bool .
                      }UNION{
                        $subject  <https://vision.artresearch.net/custom/similar_artworks> ?boolsim.
                      }UNION{
                        ?work1 <https://pharos.artresearch.net/custom/has_image> ?imageA.
                        ?imageA <http://purl.org/ontology/similarity/element> $subject .
                        ?work2 <https://pharos.artresearch.net/custom/has_image> ?imageB.
                        ?imageB <http://purl.org/ontology/similarity/element> $subject .
                        ?work1 fr:Work_is_negative_of_Work ?work2.
                        $subject <https://vision.artresearch.net/custom/same_artworks> ?boolneg
                      }
                      BIND(IF(?bool,\"Same\",\"Not Same\") AS ?__literal__)
                      BIND(IF(?boolsim,\"Similar\",\"Not Similar\") AS ?__literal__)
                      BIND(IF(?boolneg,\"Same Negative\",\"Not Same\") AS ?__literal__)
                    "
                }
              ]
              
                }'
            search-profile='{
                  "categories":  
                  [
                   {
                      "iri":"<http://purl.org/ontology/similarity/Similarity>",
                      "label":"Similarity"
                    },
                      {
                      "iri":"<http://www.w3.org/2001/XMLSchema#string>",
                      "label":"String"
                    }
                   
                  ],
                  "relations":
                  [
                    {
                      "iri": "<https://pharos.artresearch.net/fieldDefinition/TypeOfSimilarity>",
                      "label":"Type of Similarity",
                      "hasDomain":"<http://purl.org/ontology/similarity/Similarity>",
                      "hasRange":"<http://www.w3.org/2001/XMLSchema#string>"
                    }
                   
                  ]
                }'
          >
              <div id="header-search" class="search-bar">
                <semantic-search-query-keyword
                  domain="<http://purl.org/ontology/similarity/Similarity>"
                  placeholder="Search for an artwork title"
                  escape-lucene-syntax="false"
                  default-query='SELECT DISTINCT 
                    ?subject
                    ?container 
                    ?g
                    (SAMPLE(?work) as ?work)
                    (SAMPLE(?work2) as ?work2)
                    (SAMPLE(?providerLabelA) as ?providerLabelA)
                    (SAMPLE(?providerLabelB) as ?providerLabelB)
                    (SAMPLE(?modifiedAt) AS ?modifiedAt) 
                    (SAMPLE(?attribution) AS ?attribution)   WHERE {
                      GRAPH ?g {
                        <http://www.researchspace.org/resource/system/formContainer> <http://www.w3.org/ns/ldp#contains> ?container. 
                        ?container <http://www.w3.org/ns/prov#generatedAtTime> ?modifiedAt ; 
                        <http://www.w3.org/ns/prov#wasAttributedTo> ?attribution.
                        ?subject <https://vision.artresearch.net/custom/reviewed> true 
                      }
                      ?work <https://pharos.artresearch.net/custom/has_image> ?imageA.
                      ?imageA <http://purl.org/ontology/similarity/element> ?subject.
                      ?work2 <https://pharos.artresearch.net/custom/has_image> ?imageB.
                      ?imageB <http://purl.org/ontology/similarity/element> ?subject.
                      ?work <https://pharos.artresearch.net/custom/has_provider> ?provA.
                      ?provA rdfs:label ?providerLabelA.
                      ?work2 <https://pharos.artresearch.net/custom/has_provider> ?provb.
                      ?provb rdfs:label ?providerLabelB.
                      FILTER(?work != ?work2)
                      FILTER NOT EXISTS {?imageA <http://www.cidoc-crm.org/cidoc-crm/P2_has_type> <http://vocab.getty.edu/aat/300010292>.}
                      FILTER NOT EXISTS {?imageB <http://www.cidoc-crm.org/cidoc-crm/P2_has_type> <http://vocab.getty.edu/aat/300010292>.}
                      BIND(?__useruri__ as ?attribution)
                    }
                    '
                  query="SELECT DISTINCT ?subject WHERE {
                  ?subject ?p ?o.
                }LIMIT 1 
              "
                ></semantic-search-query-keyword>
              </div>
              <bs-col
                lg="3"
                md="4"
                sm="5"
                class="fade-in-fwd"
                style="margin-top: 8px"
                id="artwork-filter-search"
              >
                <bs-panel id="filter-panel" header="Filters"  collapsible="true" default-expanded="true">
            <semantic-search-facet open-by-default='true' sortby='count-desc'></semantic-search-facet>
          </bs-panel>
              </bs-col>
              <bs-col lg="9" md="8" sm="7">
                    <semantic-search-result-holder>
                      <div  id="search-results" >
                        <semantic-search-facet-breadcrumbs></semantic-search-facet-breadcrumbs>
                          <semantic-search-result>
                            <semantic-table id='resources-results'
                                number-of-displayed-rows=10
                                    options='{
                                          "showFilter":false
                                        }'
                                query='
                                SELECT DISTINCT 
                                ?container 
                                ?g
                                ?subject
                                (SAMPLE(?work) as ?work)
                                (SAMPLE(?work2) as ?work2)
                                (SAMPLE(?providerLabelA) as ?providerLabelA)
                                (SAMPLE(?providerLabelB) as ?providerLabelB)
                                (SAMPLE(?modifiedAt) AS ?modifiedAt) 
                                (SAMPLE(?attribution) AS ?attribution)   WHERE {
                                }GROUP BY ?container ?g ?subject
                                '
                                tuple-template='{{>reviewedCards}}'
                                no-result-template='<h1 style="margin-top:150px;">There are no reviewed matchings</h1>'
                                >

                                <template id="reviewedCards">
                                        <div
                                          class="
                                            rs-grid-element
                                            panel panel-default
                                            artwork-card
                                            fade-in
                                          "
                                        >
                                          <h2 style="display: flex;
                                          width: 100%;
                                          gap: 5px;
                                          font-size: 16px;
                                          justify-content: flex-end;
                                          padding-right: 15px;">by <mp-label iri="{{attribution.value}}"></mp-label> at {{dateTimeFormat modifiedAt.value "DD/MM/YY HH:mm:ss"}}</h2>
                                            <div class="panel-body row">
                                              <bs-col class="cardInfo" lg="2" xs="10">
                                                [[> :SimilarityListThumbnails iri="{{work.value}}"]]
                                              </bs-col>
                                              <bs-col class="cardInfo" lg="4" xs="10">
                                                <div data-flex-layout="row md-column center-stretch">
                                                  <bs-row class="cardInfoFields">
                                                    <h2>
                                                      [[> rsp:SourceIcon
                                                      providerLabel="{{providerLabelA.value}}"]]{{providerLabelA.value}}
                                                    </h2>
                                                    <mp-field-visualization
                                                      subject="{{work.value}}"
                                                      fields='[[fieldDefinitions  
                                                              Title="https://pharos.artresearch.net/fieldDefinition/2"
                                                              Creator="https://pharos.artresearch.net/fieldDefinition/1"
                                                              ]]'
                                                      template="{{>generalInfo}}"
                                                    >
                                                      <template id="generalInfo">
                                                        [[> rsp:ResourceFieldBasedVisualization
                                                        subject="{{work.value}}" ]]
                                                      </template>
                                                    </mp-field-visualization>
                                                  </bs-row>
                                                </div>
                                              </bs-col>
                                              <bs-col class="cardInfo" lg="2" xs="10">
                                                [[> :SimilarityListThumbnails iri="{{work2.value}}"]]
                                              </bs-col>

                                              <bs-col class="cardInfo" lg="4" xs="10">
                                                <div data-flex-layout="row md-column center-stretch">
                                                  <bs-row class="cardInfoFields">
                                                    <h2>
                                                      [[> rsp:SourceIcon
                                                      providerLabel="{{providerLabelB.value}}"]]{{providerLabelB.value}}
                                                    </h2>
                                                    <mp-field-visualization
                                                      subject="{{work2.value}}"
                                                      fields='[[fieldDefinitions  
                                                                Title="https://pharos.artresearch.net/fieldDefinition/2"
                                                                Creator="https://pharos.artresearch.net/fieldDefinition/1"
                                                                ]]'
                                                      template="{{>generalInfo}}"
                                                    >
                                                      <template id="generalInfo">
                                                        [[> rsp:ResourceFieldBasedVisualization
                                                        subject="{{work2.value}}" ]]
                                                      </template>
                                                    </mp-field-visualization>
                                                  </bs-row>
                                                </div>
                                              </bs-col>
                                            </div>
                                            <div class="actions">
                                              <semantic-link iri="{{subject.value}}">
                                                <button class="btn action btn-success">
                                                  View details 
                                                </button>
                                              </semantic-link>
                                              <semantic-query
                                                query=' SELECT DISTINCT ?ldpContainer WHERE {
                                                          GRAPH <{{g.value}}>{
                                                            ?subject <https://vision.artresearch.net/custom/processed> true.
                                                          }
                                                          BIND(<{{subject.value}}> as ?ldpContainer)
                                                        }LIMIT 1 '
                                                template='{{> revertOption }}'
                                                no-result-template='{{> deleteOption}}'>
                                                <template id='deleteOption'>
                                                    <mp-ldp-remove-from-container-action iri="{{ldpContainer.value}}" container="http://www.researchspace.org/resource/system/formContainer">
                                                      <button title="This action will remove the item from your reviewed list. It will be then available under artwork matchings for you or another reviewer to review." class="btn action btn-danger" style="margin-right:8px;"><i style="color: white;" class="fa fa-trash" aria-hidden=true></i> Delete</button>
                                                    </mp-ldp-remove-from-container-action>
                                                </template>
                                                <template id='revertOption'>
                                                    <semantic-form
                                                    new-subject-template="{{ldpContainer.value}}"
                                                    browser-persistance="true"
                                                    persistence="sparql"
                                                    post-action="reload"
                                                    form-id="revert"
                                                    fields='[[  fieldDefinitions
                                                        revert="http://www.researchspace.org/fieldDefinition/Revert"
                                                    ]]'
                                                    >
                                                    <semantic-form-hidden-input for="revert" default-value="true"></semantic-form-hidden-input>
                                                      <button title="This action will remove the item from artresearch.net. It will be then available under artwork matchings for you or another reviewer to review."  name="submit" class="btn action btn-warn" style="margin-right:8px;background:grey;"><i class="fa fa-refresh" aria-hidden=true></i> Revert </button>
                                                    </semantic-form>
                                                </template>
                                              </semantic-query>
                                        
                                            </div>
                                        </div>
                                </template>
                            </semantic-table>
                          </semantic-search-result>
                      </div>
                    </semantic-search-result-holder>
              </bs-col>
       
    </semantic-search>
</div>

<style>
  .actions{
  gap: 150px;
  }
  .matchingImage {
    height: 18vh !important;
    margin: 0vw !important;
  }
  .fa.fa-refresh{
    color:white !important; 
  }
</style>